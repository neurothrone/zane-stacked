@page "/admin/settings"
@layout AdminLayout
@attribute [Authorize(Roles = "Admin")]

@using ZaneStacked.Web.Identity

<PageTitle>Settings - ZaneStacked</PageTitle>

<main class="container-fluid">
    <h2 class="mb-3 mt-2">Settings</h2>
    <button class="btn btn-danger" @onclick="Logout">Delete the Universe</button>
</main>

@code {

    [Inject]
    private IAccountManagement AccountManagement { get; set; } = null!;

    private async Task Logout()
    {
        if (await AccountManagement.CheckAuthenticatedAsync())
        {
            await AccountManagement.LogoutAsync();
        }
    }

}